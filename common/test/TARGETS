# $$PHOTON_UNPUBLISHED_FILE$$

includes = {
    '../checksum/test/TARGETS',
    '../executor/test/TARGETS',
    '../memory-stream/test/TARGETS',
    '../metric-meter/test/TARGETS',
    '../stream-messenger/test/TARGETS',
}

targets = {
    'test' : cpp_fast_test(
        testing = [':test'],
        incs = [ './' ],
        srcs = [ './test.cpp' ],
        static_deps = [
            'gtest-1.7.0:gtest',
            'gmock-1.7.0:gmock',
        ],
        cxxflags = [
            '-DLOGCURRENT'
        ],
        ldflags=[
            '-lphoton',
        ],
    ),
    'test_scalepool' : cpp_fast_test(
        testing = [':test_scalepool'],
        incs = [ './' ],
        srcs = [ './test_scalepool.cpp' ],
        static_deps = [
            'gtest-1.7.0:gtest',
            'gmock-1.7.0:gmock',
        ],
        ldflags=[
            '-lphoton',
        ],
    ),
    'test_throttle' : cpp_fast_test(
        testing = [':test_throttle'],
        incs = [ './' ],
        srcs = [ './test_throttle.cpp' ],
        static_deps = [
            'gtest-1.7.0:gtest',
            'gmock-1.7.0:gmock',
        ],
        ldflags=[
            '-lphoton',
        ],
    ),
    'test_constexprstr' : cpp_fast_test(
        testing = [':test_constexprstr'],
        incs = [ './' ],
        srcs = [ './test_constexprstr.cpp' ],
        static_deps = [
            'gtest-1.7.0:gtest',
            'gmock-1.7.0:gmock',
        ],
        ldflags=[
            '-lphoton',
        ],
    ),
    'test_lockfree' : cpp_program(
        incs = [ './' ],
        srcs = [ './test_lockfree.cpp' ],
        static_deps = [
            'boost-1.69.0'
        ],
        ldflags=[
            '-lphoton',
        ],
    ),
    'test_alog' : cpp_fast_test(
        incs = [ './' ],
        srcs = [ './test_alog.cpp', './x.cpp' ],
        static_deps = [
            'gtest-1.7.0:gtest',
            'gmock-1.7.0:gmock',
            ':#photon'
        ],
    ),
    'perf_objcache' : cpp_program(
        incs = [ './' ],
        srcs = [ './perf_objcache.cpp' ],
        static_deps = [
            'boost-1.69.0'
        ],
        ldflags=[
            '-lphoton',
        ],
    ),
    'test_objcache' : cpp_program(
        incs = [ './' ],
        srcs = [ './test_objcache.cpp' ],
        static_deps = [
            'boost-1.69.0',
            'gtest-1.7.0:gtest',
        ],
        ldflags=[
            '-lphoton',
        ],
    )
}
