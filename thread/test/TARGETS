# $$PHOTON_UNPUBLISHED_FILE$$

targets = {
    'test': cpp_fast_test(
        testing=['photon',],
        incs=['./'],
        srcs=[
            'test.cpp',
            '../switch_context_%s.s' % arch,
            'x.cpp',
        ],
        static_deps=[
            'gtest-1.7.0:gtest',
            'gflags-2.1.2'
        ],
        ldflags=[
            '-lphoton',
        ]
    ),
    'perf_usleepdefer_semaphore': cpp_fast_test(
        testing=['semaphore'],
        incs=[
            './',
        ],
        srcs=[
            'perf_usleepdefer_semaphore.cpp',
        ],
        static_deps=[
            'gtest-1.7.0:gtest',
        ],
        ldflags=[
            '-lphoton',
        ],
    ),
    'perf_spinlock': cpp_program(
        incs=[
            './',
        ],
        srcs=[
            'perf_spinlock.cpp',
        ],
        ldflags=[
            '-lphoton',
        ],
    ),
    'perf_workpool': cpp_program(
        incs=[
            './',
        ],
        srcs=[
            'perf_workpool.cpp',
        ],
        ldflags=[
            '-lphoton',
        ],
    ),
    'test-std-compat': cpp_fast_test(
        incs=[
            './',
        ],
        srcs=[
            'test-std-compat.cpp',
        ],
        static_deps=[
            'gtest-1.7.0:gtest',
        ],
        ldflags=[
            '-lphoton',
        ],
    ),
}